<div class="pagination">
  {% if entities.has_previous %}
    <a href="?page=1" class="btn btn-xs btn-outline-info mb-4 me-2">&laquo; first</a>
    <a href="?page={{ entities.previous_page_number }}" class="btn btn-xs btn-outline-info mb-4 me-2">&lsaquo; prev</a>
  {% endif %}

  <span class="page-links">
    {% for num in entities.paginator.page_range %}
      {% if num == entities.number %}
        <a href="#" class="btn btn-xs btn-outline-info mb-4 mx-1 active">{{ num }}</a>
      {% elif num > entities.number|add:'-3' and num < entities.number|add:'3' %}
        <a href="?page={{ num }}" class="btn btn-xs btn-outline-info mb-4">{{ num }}</a>
      {% endif %}
    {% endfor %}
  </span>

  {% if entities.has_next %}
    <a href="?page={{ entities.next_page_number }}" class="btn btn-xs btn-outline-info mb-4 ms-2">next &rsaquo;</a>
    <a href="?page={{ entities.paginator.num_pages }}" class="btn btn-xs btn-outline-info mb-4 ms-2">last &raquo;</a>
  {% endif %}
</div>